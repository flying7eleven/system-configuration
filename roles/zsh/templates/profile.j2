#########################################################
# WARNING: This file is manged by an Ansible playbook.  #
#          Do not edit it manually!                     #
#########################################################

{% if ansible_facts["system"] == "Darwin" %}
# ensure the brew gnu find utils are used since they are newer than the macOS ones
export PATH="/opt/homebrew/opt/findutils/libexec/gnubin:$PATH"

# ensure the compiler will use the downloaded libpq version
export LDFLAGS="-L/opt/homebrew/opt/libpq/lib $LDFLAGS"
export CPPFLAGS="-I/opt/homebrew/opt/libpq/include $CPPFLAGS"
export RUSTFLAGS="-L/opt/homebrew/opt/libpq/lib $RUSTFLAGS"

# set the correct kerberos user globally
export KERBEROS_USER={{ zsh_kerberos_username }}

# since there is a default vim installation on macOS, map the default editor to nvim and alias vim to nvim
# WARNING: this has to be installed by another role to make this work
alias vim=/opt/homebrew/bin/nvim
export EDITOR=/opt/homebrew/bin/nvim
{% endif %}